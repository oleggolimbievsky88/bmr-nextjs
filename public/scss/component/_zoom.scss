@use "../abstracts/mixin" as *;

.tf-zoom-main {
    position: fixed !important;
    top: 50% !important;
    left: calc(50% + 300px) !important;
    transform: translate(-50%, -50%) !important;
    width: 520px !important;
    height: 520px !important;
    z-index: 2147483647 !important;
    background: #fff !important;
    border: 1px solid #ddd !important;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3) !important;
    overflow: hidden !important;
    display: none !important;
    pointer-events: none !important;

    .drift-zoom-pane {
        top: 0;
        left: 0;
        height: 520px;
        max-width: 520px;
        width: 100%;
        background: #fff;
        transform: translate3d(0, 0, 0);
        -webkit-transform: translate3d(0, 0, 0);
        box-shadow: 0 1px 5px #7f7f7f05, 0 5px 18px #7f7f7f33;
        z-index: 3;
        pointer-events: none !important;
    }
}

/* Mobile: show zoom pane right below the main product image (in flow) */
@media (max-width: 767px) {
    .tf-product-media-wrap-zoom {
        position: relative;
    }

    .tf-zoom-main {
        position: absolute !important;
        top: 100% !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        height: 60vh !important;
        max-height: 400px !important;
        min-height: 280px !important;
        transform: none !important;
        margin-top: 0.5rem;
        box-sizing: border-box;

        .drift-zoom-pane {
            height: 100% !important;
            max-width: 100% !important;
            width: 100% !important;
        }
    }
}

.tf-zoom-main.drift-open {
    display: block !important;
    pointer-events: none !important;
}

.tf-zoom-main[style*="display: block"] {
    display: block !important;
    pointer-events: none !important;
}

.drift-bounding-box.drift-open {
    background: #ffffff40;
    box-shadow: 0 0 0 1px #0006 inset;
    z-index: 5000;
}

.drift-zoom-pane {
    z-index: 1000000 !important;
}

.section-image-zoom {
    .other-image-zoom {
        @include transition3;
    }
    &.zoom-active .other-image-zoom {
        opacity: 0.3;
    }
}

.pswp__bg {
    background: var(--white);
}

.pswp__icn {
    fill: rgb(34, 34, 34);
    color: var(--white);
    .pswp__icn-shadow {
        stroke: var(--white);
        stroke-width: 1px;
        fill: none;
    }
}

.pswp__counter {
    color: #222;
    text-shadow: 1px 1px 3px #ffffff;
}

.tf-model-viewer {
    width: 100%;
    height: 100%;
    position: relative;
    model-viewer {
        display: block;
        position: relative;
        z-index: 5;
        width: 100%;
        height: 100%;
        &.disabled {
            pointer-events: none;
        }
    }
    &.active {
        model-viewer {
            pointer-events: all;
        }
        .wrap-btn-viewer {
            display: none;
        }
    }
}

/* PhotoSwipe image height fixes - only override image sizing */
.pswp__img {
    max-height: 80vh !important;
    object-fit: contain !important;
}